{% extends 'base.html' %}
{% load static %}
{% block 'titulo'%} Cadastro de aula {% endblock %}
{% block 'conteudo' %}
<div class="principal-box-cad">
    <div class="principal-box-atualiza-aula">
        <form class="box-att-aula" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-aula">
                <div class="midia-aula">
                    <h3>Mídia da aula</h3>
                    <input class="input-none" type="file" name="class-image" id="class-image"
                        onchange="fileSelected(this)">
                    <img class="x" src="{% static 'imgs/basic_class.jpg' %}" id="image-class-btn" alt="">
                    <input class="input-none" type="file" name="class-video" id="class-video">
                    <video class="x" controls="controls" autoplay="autoplay" id="class-video-btn">
                        <source src="{% static 'videos/back_to_school.mov' %}" id='video' type="video/mp4">
                    </video>
                </div>
                <div class="conteudo-aula">
                    <h3>Nova aula</h3>
                    <label for="id_aula">Aula</label>
                    <input type="text" name="aula" placeholder="Here comes class' name" maxlength="250" id="id_aula">
                    <label for="id_conteudo">Conteudo</label>
                    <textarea name="conteudo" cols="40" rows="10" id="id_conteudo"
                        placeholder="Now you can comment the subject which you have mentioned in your class' video."></textarea>
                    <label for="">Lingua</label>
                    <select name="" id="">
                        <option value="">-------</option>
                        {% for lingua in linguas %}
                        <option value="{{ lingua.id }}">{{lingua}}</option>
                        {% endfor %}
                    </select>
                    <label for="">Nível</label>
                    <select name="" id="">
                        <option value="">------</option>
                        {% for nivel in niveis %}
                        <option value="{{ nivel.id }}">{{ nivel}}</option>
                        {% endfor %}
                    </select>
                    {% if request.session.usuario_logado.is_licenced %}
                    <label for="id_is_licened">Aula licenciada</label>
                    <input type="checkbox" id='id_is_licened' name="is_licenced">
                    {% endif %}
                    <button class="btn-cadastro" type="submit">Cadastrar</button>
                </div>
            </div>
        </form>
    </div>


    <div>
        <form class='principal-box-form tam-form' method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="form-inputs">
                <h3>Nova aula</h3>
                <div class="form-inputs-div">
                    {{ criar_aula }}
                    {% if request.session.usuario_logado.is_licenced %}
                    <label for="id_is_licened">Aula licenciada</label>
                    <input type="checkbox" id='id_is_licened' name="is_licenced">
                    {% endif %}
                </div>

            </div>

            <button class="btn-cadastro" type="submit">Cadastrar</button>
        </form>
    </div>
</div>

<script>
    {
        $('#image-class-btn').click(function () {
            $('#class-image').click()
        })
        $('#class-image').change(function () {
            $('#image-class-btn').attr('src', window.URL.createObjectURL($('#class-image').prop('files')[0]))
        })
    }
    {
        $('#class-video-btn').click(function () {
            $('#class-video').click()
        })
        $('#class-video').change(function () {
            $('#video').attr('src', window.URL.createObjectURL($('#class-video').prop('files')[0]))
            $('#class-video-btn')[0].load()
        })
    }

</script>
{% endblock %}